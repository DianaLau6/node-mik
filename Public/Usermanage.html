<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mikrotik User Management</title>
    <link rel="stylesheet" href="css/tablero.css">
    



</head>
<body>
    <div class="form-container">
        <h2 class="form-title">Mikrotik</h2>
        <h2 class="form-title">Agregar Usuario en MikroTik</h2>

        <div id="message" class="message"></div>
        <form class="mikrotik-form" action="/add-user" method="POST">
            
            <!-- Habilitar Usuario -->
            <div class="form-group">
                <label><input type="checkbox" name="enabled"> Enabled</label>
            </div>

            <!-- Comentario -->
            <div class="form-group">
                <label>Comment:</label>
                <input type="text" name="comment" placeholder="Agregar comentario">
            </div>
            
            <!-- Nombre del Usuario -->
            <div class="form-group">
                <label>Name:</label>
                <input type="text" name="name" placeholder="Ingrese el nombre" required>
            </div>

            <!-- Contrase√±a -->
            <div class="form-group">
                <label>Password:</label>
                <input type="password" name="password" placeholder="Ingrese la contrase√±a" required>
            </div>
            
            <!-- Confirmar Contrase√±a -->
            <div class="form-group">
                <label>Confirm Password:</label>
                <input type="password" name="confirm_password" placeholder="Confirme la contrase√±a" required>
            </div>

            <!-- Grupo -->
            <div class="form-group">
                <label for="group">Grupo</label>
                <select name="group" id="group">
                    <option value="read" id="read">read</option>
                    <option value="write" id="write">write</option>
                    <option value="full" id="full">full</option>
                </select>
            </div>

            <!-- Direcci√≥n Permitida -->
            <div class="form-group">
                <label>Allowed Address:</label>
                <input type="text" name="allowed_address" placeholder="Ej: 192.168.0.0/24">
            </div>

            <!-- Tiempo de Inactividad -->
            <div class="form-group">
                <label>Inactivity Timeout:</label>
                <input type="text" name="inactivity_timeout" placeholder="Ej: 00:10:00" value="00:10:00">
            </div>

            <!-- Pol√≠tica de Inactividad -->
            <div class="form-group">
                <label>Inactivity Policy:</label>
                <select name="inactivity_policy">
                    <option value="none">None</option>
                    <option value="kick">Kick</option>
                    <option value="disable">Disable</option>
                </select>
            </div>

            <!-- Botones del Formulario -->
            <div class="form-buttons">
                <button type="submit">Apply</button>
                <button type="button" onclick="window.location.href='/dashboard'">Cancel</button>
            </div>


    
        </form>
    </div>

    <div class="user-management">
        <div class="toolbar">
            <button class="toolbar-btn">+</button>
            <button class="toolbar-btn">-</button>
            <button class="toolbar-btn">‚úì</button>
            <button class="toolbar-btn">X</button>
            <button class="toolbar-btn">‚¨áÔ∏è</button>
            <button class="toolbar-btn">üîç</button>
            <button class="toolbar-btn">Reset Counters</button>
        </div>

        <div class="address-list-section">
            <h2 class="section-header">Address Lists ‚ûî</h2>
            <table class="address-table">
                <thead>
                    <tr>
                        <th>Address</th>
                        <th>Network</th>
                        <th>Interference</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Aqu√≠ puedes a√±adir filas si necesitas -->
                </tbody>
            </table>
        </div>

        <div class="user-list-section">
            <h2 class="section-header">Users ‚ûî</h2>
            <table class="user-table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Group</th>
                        <th>Caller ID</th>
                        <th>Shared</th>
                        <th>Attributes</th>
                        <th>Total Uptime</th>
                        <th>Total Download</th>
                        <th>Total Upload</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Aqu√≠ puedes a√±adir filas si necesitas -->
                </tbody>
            </table>
            <button class="add-batch-btn">Add Batch Users</button>
        </div>
    </div>
    <script>
        // Verifica qu√© valores se est√°n enviando en la solicitud
        document.querySelector('form').addEventListener('submit', function(event) {
            event.preventDefault(); // Evitar que el formulario se env√≠e por defecto

            const formData = new FormData(event.target);
            const data = Object.fromEntries(formData.entries());

            console.log('Datos enviados:', data); // Verifica los valores enviados

            // Enviar datos al servidor usando fetch o cualquier otra t√©cnica
            fetch('/add-user', {
                method: 'POST',
                body: JSON.stringify(data),
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
            })
            .then(response => response.json())
            .then(data => {
                 {
                    alert('El usuario agregado');
                } 
            })
            .catch((error) => {
                console.error('Error:', error.message);
                alert('Hubo un problema con la conexi√≥n al servidor.');
            });
            
        });

    </script>
</body>
</html>
